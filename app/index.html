<!doctype html>
<html>
<head>
    <title>My Page</title>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/reset.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />    
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.3.2.min.css" />
    <script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="js/jquery.mobile-1.3.2.min.js"></script>

</head>
<body>
    <div id="one" data-role="page">
 
        <div data-role="header" data-position="fixed" data-tap-toggle="false" data-theme="b">
            <h1 id="title">Nyheter</h1>
            <a class="ui-btn-right" href="#">Bli Medlem</a>
        </div>
        
        <div id="content" data-role="content" data-theme="b">

        </div><!-- /content -->
 
        <div data-role="footer" data-position="fixed" data-tap-toggle="false" data-theme="b">
            <div data-role="navbar">
                <ul>
                    <li><a id="home" data-icon="home" data-iconpos="bottom" class="ui-btn-active">Nyheter</a></li>
                    <li><a id="schedule" data-icon="info" data-iconpos="bottom">Schema</a></li>
                    <li><a id="gallery" data-icon="grid" data-iconpos="bottom">Galleri</a></li>
                </ul>
            </div>
        </div><!-- /footer -->
 
    </div><!-- /page -->

    <!-- Nyheter sidan -->
    <div id="two" data-role="page">

        <div id="newscontent" data-role="content" data-theme="b">

            
        </div><!-- /content -->
 
    </div><!-- /page --> 

    <!-- Schema sidan -->
    <div id="three" data-role="page">

        <div id="schedulecontent" data-role="content" data-theme="b">
            Personnummer: <input type="text" id="pnr" placeholder="YYMMDDXXXX"> <br>
            Period: 
            <select id="period">
                <option value="HT">HT</option>
                <option value="VT">VT</option>
            </select> <br>
            <button class="btn" onclick="fetchSchedule(); return false;">HÃ¤mta schema</button>
        </div><!-- /content -->
 
    </div><!-- /page -->
    <!-- Galleri sidan -->
    <div id="four" data-role="page">
        
        <div id="gallerycontent" data-role="content" data-theme="b">



        </div><!-- /content -->

    </div><!-- /page -->


    <script>
        var loadPosts = function() {
            $('#newscontent').load('http://www.schillerskaselevkar.se/loadposts.php');
        }

        var loadGallery = function() {
            $('#gallerycontent').load('http://www.schillerskaselevkar.se/loadgallery.php')
        }

        var firstLoad = function() {
            $('#content').load('http://www.schillerskaselevkar.se/loadposts.php');
            loadGallery();
            loadPosts();            
        }

        var homeContent = function() {
            $("#content").html($('#newscontent').html());
            $("#title").html("Nyheter");            
        }

        var galleryContent = function(){
            $("#content").html($('#gallerycontent').html());
            $("#title").html("Galleri");            
        }

        var scheduleContent = function(){
            $("#content").html($('#schedulecontent').html());
            $("#title").html("Schema");            
        }

        var fetchSchedule = function() {
            var pnr = $('#pnr').val();
            var period = $('#period').val();

            $.post("http://www.schillerskaselevkar.se/loadschedule.php", {pnr: pnr, period: period}, function(data){
                $('#schedulecontent').html(data);
            });
        }

        $("#home").click(function(){
            homeContent();
        });

        $("#gallery").click(function(){
            galleryContent();
        });

        $("#schedule").click(function(){
            scheduleContent();
        });

        $(document).bind('pageinit', function(){
            firstLoad();
        });
    </script>
    <script type="text/javascript" src="cordova.js"></script>
</body>
</html>